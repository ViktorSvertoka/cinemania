{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,uCAGMC,EAAYC,SAASC,cAAc,gBACnCC,EAAiBF,SAASC,cAAc,mBACxCE,EAAaH,SAASI,eAAe,eACrCC,EAAcL,SAASI,eAAe,eAEtCE,EAAa,IAAI,EAAAC,EAAAC,S,SAqBRC,I,OAAAA,EAAfC,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,I,IAGUC,EAMAC,E,2FANiBT,EAAWU,UAAU,Q,UAEpB,KAFlBF,EAAQG,EAAAC,MAEDC,QAAiBL,EAAQ,C,wCAC7BM,O,OAGHL,EAASD,EAASO,MAAM,EAAG,KAEjC,EAAAC,EAAAd,SAAkBO,G,kDAElBQ,QAAQC,IAAGP,EAAAQ,IACX1B,EAAU2B,UAAUC,IAAI,mBACxBzB,EAAewB,UAAUE,OAAO,mB,2DAfNC,MAAAC,KAAAC,U,UAmBfC,I,OAAAA,EAAftB,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,EAA4BoB,G,IAGlBnB,EAMAC,E,2FANiBT,EAAW4B,mBAAmBD,G,UAE7B,KAFlBnB,EAAQG,EAAAC,MAEDC,QAAiBL,EAAQ,C,wCAC7BM,O,OAGHL,EAASD,EAASO,MAAM,EAAG,KAEjC,EAAAC,EAAAd,SAAkBO,G,kDAElBQ,QAAQC,IAAGP,EAAAQ,IACX1B,EAAU2B,UAAUC,IAAI,mBACxBzB,EAAewB,UAAUE,OAAO,mB,2DAfTC,MAAAC,KAAAC,U,aAnBZtB,EAAeoB,MAAAC,KAAAC,U,CApB9BI,GACAhC,EAAWiC,iBAAiB,UAE5B,SAAkBC,GAOhB,GANAA,EAAEC,iBAEFvC,EAAUwC,UAAY,GAEtBC,YAAcnC,EAAYoC,MAAMC,QAE3BF,YACH,OAGFzC,EAAU2B,UAAUE,OAAO,mBACzB1B,EAAewB,UAAUC,IAAI,mB,SAwBLM,GAAbD,EAAYH,MAAAC,KAAAC,U,CAtBzBY,CAAaH,Y","sources":["src/js/catalog.js"],"sourcesContent":["import APIService from './api-service-main';\nimport renderMoviesCards from './cards-rendering';\n\nconst movieList = document.querySelector('.cards__list');\nconst messageNoMovie = document.querySelector('.cards__message');\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('searchQuery');\n\nconst apiService = new APIService();\nsetCatalogCards(); \nsearchForm.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  movieList.innerHTML = '';\n\n  searchValue = searchInput.value.trim();\n\n  if (!searchValue) {\n    return;\n  }\n\n  movieList.classList.remove('visually-hidden');\n    messageNoMovie.classList.add('visually-hidden');\n\n  searchMovies(searchValue);\n}\n\nasync function setCatalogCards() {\n\n  try {\n    const response = await apiService.getTrends('week');\n\n    if (response.length === 0 || !response) {\n      return error\n    }\n\n    const movies = response.slice(0, 10);\n\n    renderMoviesCards(movies);\n  } catch (error) {\n    console.log(error);\n    movieList.classList.add('visually-hidden');\n    messageNoMovie.classList.remove('visually-hidden');\n  }\n}\n\nasync function searchMovies(query) {\n\n  try {\n    const response = await apiService.searchMovieByQuery(query);\n\n    if (response.length === 0 || !response) {\n      return error\n    }\n\n    const movies = response.slice(0, 10);\n\n    renderMoviesCards(movies);\n  } catch (error) {\n    console.log(error);\n    movieList.classList.add('visually-hidden');\n    messageNoMovie.classList.remove('visually-hidden');\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$01039996e00cb7ba$var$movieList","document","querySelector","$01039996e00cb7ba$var$messageNoMovie","$01039996e00cb7ba$var$searchForm","getElementById","$01039996e00cb7ba$var$searchInput","$01039996e00cb7ba$var$apiService","$7r3lF","default","$01039996e00cb7ba$var$_setCatalogCards","$parcel$interopDefault","$2TvXO","mark","_callee","response","movies","getTrends","_ctx","sent","length","error","slice","$dYgbB","console","log","t0","classList","add","remove","apply","this","arguments","$01039996e00cb7ba$var$_searchMovies","query","searchMovieByQuery","$01039996e00cb7ba$var$setCatalogCards","addEventListener","e","preventDefault","innerHTML","searchValue","value","trim","$01039996e00cb7ba$var$searchMovies"],"version":3,"file":"catalog.31a7619a.js.map"}