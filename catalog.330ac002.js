var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},n=e.parcelRequire1134;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in s){var n=s[e];delete s[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){s[e]=t},e.parcelRequire1134=n);var a=n("gkCZC"),r=n("eiEnv"),o=(a=n("gkCZC"),r=n("eiEnv"),n("gjiCh"));const l=new(0,a.default);let i;function d(e,t,s){const n=document.querySelector(".pagination");n.innerHTML="",arguments.length<3&&(s=null),i=s;let a=[];if(2===t)return e===t?(a.push(c(e-1,!0,"button-arrow-left")),a.push(c(e-1)),a.push(c(t,!1)),void a.forEach((e=>n.append(e)))):(a.push(c(e,!1)),a.push(c(t)),a.push(c(e+1,!0,"button-arrow-right")),void a.forEach((e=>n.append(e))));e>1&&a.push(c(e-1,!0,"button-arrow-left")),e>=4&&a.push(c(1,!0,"first-button")),e>=4&&a.push(u()),e>=2&&(3===e&&a.push(c(e-2)),a.push(c(e-1))),a.push(c(e,!1)),e<=t-1&&(a.push(c(e+1)),1===e&&a.push(c(e+2))),e<t-2&&t>4&&a.push(u()),e<=t-2&&t>=4&&a.push(c(t,!0,"last-button")),e<t&&a.push(c(e+1,!0,"button-arrow-right")),a.forEach((e=>n.append(e)))}function u(){const e=document.createElement("span");return e.innerHTML='<span class="dots">...</span>',e}function c(e,t=!0,s=null){const n=function(){const e=document.createElement("button");return e.classList.add("pagination-button"),e}();return n.dataset.page=e,n.textContent=n.textContent=s&&s.includes("arrow")?"":e<10?"0"+e:e,s&&n.classList.add(s),t?n.addEventListener("click",p):n.classList.add("pagination-button-current"),n}async function p(e){const t=e.target.dataset.page,s=document.querySelector(".catalog__form");(0,o.loaderShow)();try{if(null===i){const e=await l.getTrends("week",t),s=e.results;(0,r.default)(s,".cards__list"),d(e.page,e.total_pages)}else{const e=await l.searchMovieByQuery(i,t),s=e.results;(0,r.default)(s,".cards__list"),d(e.page,e.total_pages,i)}s.scrollIntoView({behavior:"smooth"}),(0,o.loaderHide)()}catch(e){console.log(e),(0,o.loaderHide)()}}o=n("gjiCh");const h=document.querySelector(".cards__list"),f=document.querySelector(".cards__message"),g=document.getElementById("search-form"),v=document.getElementById("searchQuery");const y=document.querySelector(".pagination"),L=new(0,a.default);!async function(){(0,o.loaderShow)();try{const e=await L.getTrends("week",1);if(0===e.results.length||!e.results)return error;const t=e.results;if((0,r.default)(t,".cards__list"),1===e.total_pages)return y.innerHTML="",y.classList.add("visually-hidden"),void(0,o.loaderHide)();d(e.page,e.total_pages),(0,o.loaderHide)()}catch(e){console.log(e),h.classList.add("visually-hidden"),f.classList.remove("visually-hidden"),y.innerHTML="",y.classList.add("visually-hidden"),(0,o.loaderHide)()}}(),g.addEventListener("submit",(function(e){e.preventDefault(),h.innerHTML="",y.innerHTML="";let t=v.value.trim();if(!t)return;h.classList.remove("visually-hidden"),f.classList.add("visually-hidden"),y.classList.remove("visually-hidden"),async function(e){(0,o.loaderShow)();try{const t=await L.searchMovieByQuery(e,1);if(console.log(t),0===t.results.length||!t.results)return error;const s=t.results;if((0,r.default)(s,".cards__list"),1===t.total_pages)return y.innerHTML="",y.classList.add("visually-hidden"),void(0,o.loaderHide)();d(t.page,t.total_pages,e),(0,o.loaderHide)()}catch(e){console.log(e),h.classList.add("visually-hidden"),f.classList.remove("visually-hidden"),y.innerHTML="",y.classList.add("visually-hidden"),(0,o.loaderHide)()}}(t)}));
//# sourceMappingURL=catalog.330ac002.js.map
