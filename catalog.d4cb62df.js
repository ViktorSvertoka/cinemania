var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},n=e.parcelRequire27df;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in s){var n=s[e];delete s[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){s[e]=t},e.parcelRequire27df=n);var a=n("gkCZC"),r=n("eiEnv");a=n("gkCZC"),r=n("eiEnv");const l=new(0,a.default);let o;function i(e,t,s){const n=document.querySelector(".pagination");n.innerHTML="",arguments.length<3&&(s=null),o=s,console.log(o);let a=[];if(2===t)return e===t?(a.push(d(e-1,!0,"button-arrow-left")),a.push(d(e-1)),a.push(d(t,!1)),void a.forEach((e=>n.append(e)))):(a.push(d(e,!1)),a.push(d(t)),a.push(d(e+1,!0,"button-arrow-right")),void a.forEach((e=>n.append(e))));e>1&&a.push(d(e-1,!0,"button-arrow-left")),e>=4&&a.push(d(1,!0,"first-button")),e>=4&&a.push(u()),e>=2&&(3===e&&a.push(d(e-2)),a.push(d(e-1))),a.push(d(e,!1)),e<=t-1&&(a.push(d(e+1)),1===e&&a.push(d(e+2))),e<t-2&&a.push(u()),e<=t-2&&a.push(d(t,!0,"last-button")),e<t&&a.push(d(e+1,!0,"button-arrow-right")),a.forEach((e=>n.append(e)))}function u(){const e=document.createElement("span");return e.innerHTML='<span class="dots">...</span>',e}function d(e,t=!0,s=null){const n=function(){const e=document.createElement("button");return e.classList.add("pagination-button"),e}();return n.dataset.page=e,n.textContent=n.textContent=s&&s.includes("arrow")?"":e<10?"0"+e:e,s&&n.classList.add(s),t?n.addEventListener("click",c):n.classList.add("pagination-button-current"),n}async function c(e){const t=e.target.dataset.page;try{if(null===o){const e=await l.getTrends("week",t),s=e.results;(0,r.default)(s,".cards__list"),i(e.page,e.total_pages)}else{const e=await l.searchMovieByQuery(o,t),s=e.results;(0,r.default)(s,".cards__list"),i(e.page,e.total_pages,o)}}catch(e){console.log(e)}}const p=document.querySelector(".cards__list"),f=document.querySelector(".cards__message"),h=document.getElementById("search-form"),g=document.getElementById("searchQuery");const y=document.querySelector(".pagination"),v=new(0,a.default);!async function(){try{const e=await v.getTrends("week",1);if(0===e.results.length||!e.results)return error;const t=e.results;(0,r.default)(t,".cards__list"),i(e.page,e.total_pages)}catch(e){console.log(e),p.classList.add("visually-hidden"),f.classList.remove("visually-hidden"),y.innerHTML="",y.classList.add("visually-hidden")}}(),h.addEventListener("submit",(function(e){e.preventDefault(),p.innerHTML="",y.innerHTML="";let t=g.value.trim();if(!t)return;p.classList.remove("visually-hidden"),f.classList.add("visually-hidden"),y.classList.remove("visually-hidden"),async function(e){try{const t=await v.searchMovieByQuery(e,1);if(console.log(t),0===t.results.length||!t.results)return error;const s=t.results;if((0,r.default)(s,".cards__list"),1===t.total_pages)return void y.classList.add("visually-hidden");i(t.page,t.total_pages,e)}catch(e){console.log(e),p.classList.add("visually-hidden"),f.classList.remove("visually-hidden"),y.innerHTML="",y.classList.add("visually-hidden")}}(t)}));
//# sourceMappingURL=catalog.d4cb62df.js.map
