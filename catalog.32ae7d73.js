!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire27df;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},t.parcelRequire27df=a);var s,u=a("bpxeT"),l=a("2TvXO"),o=a("7r3lF"),i=a("dYgbB"),c=(u=a("bpxeT"),l=a("2TvXO"),o=a("7r3lF"),i=a("dYgbB"),new(0,o.default));function d(e,t,n){var r=document.querySelector(".pagination");r.innerHTML="",arguments.length<3&&(n=null),s=n;var a=[];if(2===t)return e===t?(a.push(h(e-1,!0,"button-arrow-left")),a.push(h(e-1)),a.push(h(t,!1)),void a.forEach((function(e){return r.append(e)}))):(a.push(h(e,!1)),a.push(h(t)),a.push(h(e+1,!0,"button-arrow-right")),void a.forEach((function(e){return r.append(e)})));e>1&&a.push(h(e-1,!0,"button-arrow-left")),e>=4&&a.push(h(1,!0,"first-button")),e>=4&&a.push(f()),e>=2&&(3===e&&a.push(h(e-2)),a.push(h(e-1))),a.push(h(e,!1)),e<=t-1&&(a.push(h(e+1)),1===e&&a.push(h(e+2))),e<t-2&&a.push(f()),e<=t-2&&t>4&&a.push(h(t,!0,"last-button")),e<t&&a.push(h(e+1,!0,"button-arrow-right")),a.forEach((function(e){return r.append(e)}))}function p(){var e=document.createElement("button");return e.classList.add("pagination-button"),e}function f(){var e=document.createElement("span");return e.innerHTML='<span class="dots">...</span>',e}function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=p();return r.dataset.page=e,r.textContent=r.textContent=n&&n.includes("arrow")?"":e<10?"0"+e:e,n&&r.classList.add(n),t?r.addEventListener("click",v):r.classList.add("pagination-button-current"),r}function v(e){return g.apply(this,arguments)}function g(){return(g=e(u)(e(l).mark((function t(n){var r,a,u,o,p,f;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.target.dataset.page,a=document.querySelector(".catalog__form"),e.prev=2,null!==s){e.next=12;break}return e.next=6,c.getTrends("week",r);case 6:u=e.sent,o=u.results,(0,i.default)(o,".cards__list"),d(u.page,u.total_pages),e.next=18;break;case 12:return e.next=14,c.searchMovieByQuery(s,r);case 14:p=e.sent,f=p.results,(0,i.default)(f,".cards__list"),d(p.page,p.total_pages,s);case 18:a.scrollIntoView({behavior:"smooth"}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),console.log(e.t0);case 24:case"end":return e.stop()}}),t,null,[[2,21]])})))).apply(this,arguments)}var y=document.querySelector(".cards__list"),b=document.querySelector(".cards__message"),m=document.getElementById("search-form"),x=document.getElementById("searchQuery"),_=document.querySelector(".pagination"),w=new(0,o.default);function L(){return(L=e(u)(e(l).mark((function t(){var n,r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.getTrends("week",1);case 3:if(0!==(n=e.sent).results.length&&n.results){e.next=6;break}return e.abrupt("return",error);case 6:r=n.results,(0,i.default)(r,".cards__list"),d(n.page,n.total_pages),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),y.classList.add("visually-hidden"),b.classList.remove("visually-hidden"),_.innerHTML="",_.classList.add("visually-hidden");case 18:case"end":return e.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function T(){return(T=e(u)(e(l).mark((function t(n){var r,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.searchMovieByQuery(n,1);case 3:if(r=e.sent,console.log(r),0!==r.results.length&&r.results){e.next=7;break}return e.abrupt("return",error);case 7:if(a=r.results,(0,i.default)(a,".cards__list"),1!==r.total_pages){e.next=12;break}return _.classList.add("visually-hidden"),e.abrupt("return");case 12:d(r.page,r.total_pages,n),e.next=22;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),y.classList.add("visually-hidden"),b.classList.remove("visually-hidden"),_.innerHTML="",_.classList.add("visually-hidden");case 22:case"end":return e.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}!function(){L.apply(this,arguments)}(),m.addEventListener("submit",(function(e){e.preventDefault(),y.innerHTML="",_.innerHTML="";var t=x.value.trim();if(!t)return;y.classList.remove("visually-hidden"),b.classList.add("visually-hidden"),_.classList.remove("visually-hidden"),function(e){T.apply(this,arguments)}(t)}))}();
//# sourceMappingURL=catalog.32ae7d73.js.map
