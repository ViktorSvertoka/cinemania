{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAYC,SAASC,cAAc,gBACnCC,EAAiBF,SAASC,cAAc,mBACxCE,EAAaH,SAASI,eAAe,eACrCC,EAAcL,SAASI,eAAe,eAEtCE,EAAa,IAAI,EAAAT,EAAAU,UAqBvBC,iBACE,IACE,MAAMC,QAAiBH,EAAWI,UAAU,QAE5C,GAAwB,IAApBD,EAASE,SAAiBF,EAC5B,OAAOG,MAGT,MAAMC,EAASJ,EAASK,MAAM,EAAG,KAEjC,EAAAC,EAAAR,SAAkBM,E,CAClB,MAAOD,GACPI,QAAQC,IAAIL,GACZb,EAAUmB,UAAUC,IAAI,mBACxBjB,EAAegB,UAAUE,OAAO,kB,EAlCpCC,GACAlB,EAAWmB,iBAAiB,UAE5B,SAAkBC,GAChBA,EAAEC,iBAEFzB,EAAU0B,UAAY,GAEtB,IAAIC,EAAcrB,EAAYsB,MAAMC,OAEpC,IAAKF,EACH,OAGF3B,EAAUmB,UAAUE,OAAO,mBAC3BlB,EAAegB,UAAUC,IAAI,mBAuB/BX,eAA4BqB,GAC1B,IACE,MAAMpB,QAAiBH,EAAWwB,mBAAmBD,GAErD,GAAwB,IAApBpB,EAASE,SAAiBF,EAC5B,OAAOG,MAGT,MAAMC,EAASJ,EAASK,MAAM,EAAG,KAEjC,EAAAC,EAAAR,SAAkBM,E,CAClB,MAAOD,GACPI,QAAQC,IAAIL,GACZb,EAAUmB,UAAUC,IAAI,mBACxBjB,EAAegB,UAAUE,OAAO,kB,EAnClCW,CAAaL,E","sources":["src/js/catalog.js"],"sourcesContent":["import APIService from './api-service-main';\nimport renderMoviesCards from './cards-rendering';\n\nconst movieList = document.querySelector('.cards__list');\nconst messageNoMovie = document.querySelector('.cards__message');\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.getElementById('searchQuery');\n\nconst apiService = new APIService();\nsetCatalogCards();\nsearchForm.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  movieList.innerHTML = '';\n\n  let searchValue = searchInput.value.trim();\n\n  if (!searchValue) {\n    return;\n  }\n\n  movieList.classList.remove('visually-hidden');\n  messageNoMovie.classList.add('visually-hidden');\n\n  searchMovies(searchValue);\n}\n\nasync function setCatalogCards() {\n  try {\n    const response = await apiService.getTrends('week');\n\n    if (response.length === 0 || !response) {\n      return error;\n    }\n\n    const movies = response.slice(0, 10);\n\n    renderMoviesCards(movies);\n  } catch (error) {\n    console.log(error);\n    movieList.classList.add('visually-hidden');\n    messageNoMovie.classList.remove('visually-hidden');\n  }\n}\n\nasync function searchMovies(query) {\n  try {\n    const response = await apiService.searchMovieByQuery(query);\n\n    if (response.length === 0 || !response) {\n      return error;\n    }\n\n    const movies = response.slice(0, 10);\n\n    renderMoviesCards(movies);\n  } catch (error) {\n    console.log(error);\n    movieList.classList.add('visually-hidden');\n    messageNoMovie.classList.remove('visually-hidden');\n  }\n}\n"],"names":["$gkCZC","parcelRequire","$9f350005b1f9b186$var$movieList","document","querySelector","$9f350005b1f9b186$var$messageNoMovie","$9f350005b1f9b186$var$searchForm","getElementById","$9f350005b1f9b186$var$searchInput","$9f350005b1f9b186$var$apiService","default","async","response","getTrends","length","error","movies","slice","$eiEnv","console","log","classList","add","remove","$9f350005b1f9b186$var$setCatalogCards","addEventListener","e","preventDefault","innerHTML","searchValue","value","trim","query","searchMovieByQuery","$9f350005b1f9b186$var$searchMovies"],"version":3,"file":"catalog.4c548f8b.js.map"}