var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},s=e.parcelRequire27df;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in a){var s=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,s.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},e.parcelRequire27df=s);var n=s("2shzp");const r='<svg class="star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_405_766)" stroke-linejoin="round"/>\n<defs>\n<linearGradient id="paint0_linear_405_766" x1="3.375" y1="2.625" x2="13.5" y2="16.5" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n</defs>\n</svg>',i='<svg class="star" width="18" height="18" viewBox="0 0 18 18" fill="rgba(248, 65, 25, 1)" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_405_766)" stroke-linejoin="round"/>\n<defs>\n<linearGradient id="paint0_linear_405_766" x1="3.375" y1="2.625" x2="13.5" y2="16.5" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n</defs>\n</svg>',o='<svg class="star" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_148_6991)" stroke-linejoin="round"/>\n<path d="M9 1.6875V12.7969L4.14844 16.3125L6.04688 10.6875L1.125 7.3125H7.17188L9 1.6875Z" fill="url(#paint1_linear_148_6991)"/>\n<defs>\n<linearGradient id="paint0_linear_148_6991" x1="3.04877" y1="2.73251" x2="13.478" y2="16.7124" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n<linearGradient id="paint1_linear_148_6991" x1="2.08688" y1="2.73251" x2="12.1506" y2="9.47748" gradientUnits="userSpaceOnUse">\n<stop stop-color="#F84119"/>\n<stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>\n</linearGradient>\n</defs>\n</svg>';var l=(n=s("2shzp")).default;async function c(e){const t=document.querySelector(".cards__list");let a="";for(const t of e){const{id:e,poster_path:s,title:n,release_date:r,vote_average:i}=t;if(null===s||!s)continue;a+=`<li class='cards__list__item'>\n                    <img src='${"https://image.tmdb.org/t/p/w500/"+s}' alt='${n}' width='395' height='574' />\n                    <div>\n                        <h3>${n}</h3>\n                        <p>${await p(e)} <span>${await d(r)}</span></p>\n                        ${await u(i)}\n                    </div>\n                </li>`}t.innerHTML=a}function d(e){return e?year=e.slice(0,4):"There is no release date"}async function p(e){try{const t=await l.get(`https://api.themoviedb.org/3/movie/${e}`,{params:{api_key:"992758a4802a699e8df27d4d6efc34fb"}});if(0===t.data.genres.length)return error;return t.data.genres.slice(0,2).map((e=>e.name)).join(", ")}catch(e){return console.log(e),"There are no genres"}}function u(e){let t="";if(!e)return t=`${r.repeat(5)}`,`<div>${t}</div>`;switch(Math.round(e)){case 0:t=`${r.repeat(5)}`;break;case 1:t=`${o}${r.repeat(4)}`;break;case 2:t=`${i}${r.repeat(4)}`;break;case 3:t=`${i}${o}${r.repeat(3)}`;break;case 4:t=`${i.repeat(2)}${r.repeat(3)}`;break;case 5:t=`${i.repeat(2)}${o}${r.repeat(2)}`;break;case 6:t=`${i.repeat(3)}${r.repeat(2)}`;break;case 7:t=`${i.repeat(3)}${o}${r}`;break;case 8:t=`${i.repeat(4)}${r}`;break;case 9:t=`${i.repeat(4)}${o}`;break;case 10:t=`${i.repeat(5)}`;break;default:throw new Error("Invalid rating")}return`<div>${t}</div>`}const g=document.querySelector(".cards__list"),h=document.querySelector(".cards__message"),y=document.getElementById("search-form"),f=document.getElementById("searchQuery"),v=new class{constructor(){this.key="992758a4802a699e8df27d4d6efc34fb",this.baseURL="https://api.themoviedb.org/3/",this.page=1}incrementPage(){this.page+=1}resetPage(){this.page=1}async getTrends(e){try{const t=await n.default.get(`${this.baseURL}trending/movie/${e}?api_key=${this.key}`);return console.log(t.data.results),t.data.results}catch(e){console.log(e)}}async getUpcoming(){try{const e=await n.default.get(`${this.baseURL}movie/upcoming?api_key=${this.key}`);return console.log(e.data.results),e.data.results}catch(e){console.log(e)}}async searchMovieByQuery(e){try{const t=await n.default.get(`${this.baseURL}search/movie?api_key=${this.key}&query=${e}`);return this.incrementPage(),console.log(t.data.results),t.data.results}catch(e){console.log(e)}}async getMovieInfo(e){try{const t=await n.default.get(`${this.baseURL}movie/${e}?api_key=${this.key}`);return console.log(t.data),t.data}catch(e){console.log(e)}}async getMovieTrailer(e){try{const t=await n.default.get(`${this.baseURL}movie/${e}/videos?api_key=${this.key}`);return console.log(t.data.results[0]),t.data.results[0]}catch(e){console.log(e)}}async getGenresList(){try{const e=await n.default.get(`${this.baseURL}genre/movie/list?api_key=${this.key}`);return console.log(e.data.genres),e.data.genres}catch(e){console.log(e)}}async getMovieContries(){try{const e=await n.default.get(`${this.baseURL}configuration/countries?api_key=${this.key}`);return console.log(e.data),e.data}catch(e){console.log(e)}}};!async function(){try{const e=await v.getTrends("week");if(0===e.length||!e)return error;c(e.slice(0,10))}catch(e){console.log(e),g.classList.add("visually-hidden"),h.classList.remove("visually-hidden")}}(),y.addEventListener("submit",(function(e){if(e.preventDefault(),g.innerHTML="",searchValue=f.value.trim(),!searchValue)return;g.classList.remove("visually-hidden"),h.classList.add("visually-hidden"),async function(e){try{const t=await v.searchMovieByQuery(e);if(0===t.length||!t)return error;c(t.slice(0,10))}catch(e){console.log(e),g.classList.add("visually-hidden"),h.classList.remove("visually-hidden")}}(searchValue)}));
//# sourceMappingURL=catalog.e938aaad.js.map
