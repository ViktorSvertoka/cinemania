{"mappings":"AAAA,MAIMA,EAAkBC,SAASC,cAAc,kBACzCC,EAAQF,SAASC,cAAc,UAC/BE,EAAeH,SAASC,cAAc,kBACtCG,EAAgBJ,SAASC,cAAc,UACvCI,EAAeL,SAASC,cAAc,kBAGJF,EAAxBO,iBAAiB,SAASC,UAEV,MAAxBC,EAAUT,EAAgBU,aAAa,iBAGvCC,QAAiBC,MACrB,sCAAuBH,oEAEnBI,QAAaF,EAASG,OAGR,GAAQ,IAAxBD,EAAKE,QAAQC,OAKf,OAIyB,MAArBC,EAAQJ,EAAKE,QAAQ,GAGmBT,EAAjCY,IAAM,iCAAiCD,EAAME,MAGnChB,EAAjBiB,MAAMC,QAAU,cAGhB,IAAIC,SAAQC,IAChBnB,EAAagB,MAAMI,OAAS,cAC5BpB,EAAaG,iBAAiB,gBAAiBgB,EAAS,CAAEE,MAAM,GAAO,GACvE,IAI2CpB,EAAjCE,iBAAiB,SAAS,KAEjBJ,EAAfiB,MAAMC,QAAU,OAGaf,EAAtBY,IAAM,GACnBZ,EAAaoB,IAAM,GAGuCtB,EAA7CgB,MAAMI,OAAS,CAAC,IAIMrB,EAA/BI,iBAAiB,SAASoB,IAE1BA,EAAMC,SAAWzB,GACnBE,EAAcwB,OAAO,IC/DzB,MAAMC,EAAO,CACXC,QAAS9B,SAASC,cAAc,oBAChC8B,cAAe/B,SAASC,cAAc,eACtC+B,aAAchC,SAASC,cAAc,oBAavC,SAASgC,IACPJ,EAAKG,aAAaE,UAAUC,OAAO,mBACnCN,EAAKE,cAAcG,UAAUC,OAAO,U,CAZtCN,EAAKC,QAAQxB,iBAAiB,QAAS2B,GAEvCJ,EAAKG,aAAa1B,iBAAiB,SAEnC,SAA8B8B,GACxBA,EAAET,SAAWE,EAAKG,cACpBC,G","sources":["src/js/hero-modal-watch-trailer.js","src/js/mobile-menu.js"],"sourcesContent":["const apiKey = '992758a4802a699e8df27d4d6efc34fb';\nconst baseApiUrl = 'https://api.themoviedb.org/3';\n\n// Получаем нужные элементы\nconst watchTrailerBtn = document.querySelector('.watch-trailer');\nconst modal = document.querySelector('.modal');\nconst modalContent = document.querySelector('.modal-content');\nconst closeModalBtn = document.querySelector('.close');\nconst trailerVideo = document.querySelector('#trailer-video');\n\n// Обрабатываем клики на кнопке \"Смотреть трейлер\"\nwatchTrailerBtn.addEventListener('click', async () => {\n  // Получаем ID фильма из атрибута data кнопки\n  const movieId = watchTrailerBtn.getAttribute('data-movie-id');\n\n  // Получаем список видео по фильму из API\n  const response = await fetch(\n    `${baseApiUrl}/movie/${movieId}/videos?api_key=${apiKey}&language=en-US`\n  );\n  const data = await response.json();\n\n  // Проверяем, есть ли видео\n  if (data.results.length === 0) {\n    // Показываем сообщение об ошибке и выходим из функции\n    // trailerVideo.src = \"path/to/placeholder/image.png\";\n    // trailerVideo.alt = \"Извините, мы не смогли найти трейлер.\";\n    // modal.style.display = \"block\";\n    return;\n  }\n\n  // Получаем первое видео из списка\n  const video = data.results[0];\n\n  // Устанавливаем источник видео для трейлера на URL видео на YouTube\n  trailerVideo.src = `https://www.youtube.com/embed/${video.key}`;\n\n  // Показываем модальное окно\n  modal.style.display = 'block';\n\n  // Ждем, пока модальное окно полностью раскроется\n  await new Promise(resolve => {\n    modalContent.style.height = 'fit-content';\n    modalContent.addEventListener('transitionend', resolve, { once: true });\n  });\n});\n\n// Обрабатываем клики на кнопке закрытия модального окна\ncloseModalBtn.addEventListener('click', () => {\n  // Скрываем модальное окно\n  modal.style.display = 'none';\n\n  // Сбрасываем источник и alt текст для трейлера\n  trailerVideo.src = '';\n  trailerVideo.alt = '';\n\n  // Сбрасываем высоту содержимого модального окна (для следующего раза)\n  modalContent.style.height = 0;\n});\n\n// Обрабатываем клики на фоне модального окна\nmodal.addEventListener('click', event => {\n  // Если клик был на фоне (т.е. не на содержимом модального окна), закрываем модальное окно\n  if (event.target === modal) {\n    closeModalBtn.click();\n  }\n});\n","const refs = {\n  menuBtn: document.querySelector('[data-menu-open]'),\n  menuContainer: document.querySelector('[data-menu]'),\n  menuBackdrop: document.querySelector('[data-backdrop]'),\n};\n\nrefs.menuBtn.addEventListener('click', toggleModal);\n\nrefs.menuBackdrop.addEventListener('click', closeOnBackdropClick);\n\nfunction closeOnBackdropClick(e) {\n  if (e.target === refs.menuBackdrop) {\n    toggleModal();\n  }\n}\n\nfunction toggleModal() {\n  refs.menuBackdrop.classList.toggle('visually-hidden');\n  refs.menuContainer.classList.toggle('is-open');\n}\n"],"names":["$d37f2c6ce0452fc5$var$watchTrailerBtn","document","querySelector","$d37f2c6ce0452fc5$var$modal","$d37f2c6ce0452fc5$var$modalContent","$d37f2c6ce0452fc5$var$closeModalBtn","$d37f2c6ce0452fc5$var$trailerVideo","addEventListener","async","movieId","getAttribute","response","fetch","data","json","results","length","video","src","key","style","display","Promise","resolve","height","once","alt","event","target","click","$01a0d922e623affe$var$refs","menuBtn","menuContainer","menuBackdrop","$01a0d922e623affe$var$toggleModal","classList","toggle","e"],"version":3,"file":"catalog.02f7a10b.js.map"}