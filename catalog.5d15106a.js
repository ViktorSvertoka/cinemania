const e=document.querySelector(".watch-trailer"),t=document.querySelector(".watch-modal"),n=document.querySelector(".modal-error"),o=document.querySelector(".watch-modal-content"),c=document.querySelector(".close"),r=document.querySelector("#trailer-video");e.addEventListener("click",(async()=>{try{const c=e.dataset.movieId,a=await fetch(`https://api.themoviedb.org/3/movie/${c}/videos?api_key=992758a4802a699e8df27d4d6efc34fb&language=en-US`);if(!a.ok)throw new Error(`HTTP error: ${a.status}`);const d=await a.json();if(!d||0===d.results.length||!d.results[0].key)return void(n.style.display="block");const s=d.results[0];r.src=`https://www.youtube.com/embed/${s.key}`,t.style.display="block",await new Promise((e=>{o.addEventListener("transitionend",e,{once:!0})}))}catch(e){console.error(e),n.style.display="block"}})),c.addEventListener("click",(()=>{t.style.display="none"})),t.addEventListener("click",(e=>{e.target===t&&c.click()})),n.addEventListener("click",(()=>{n.style.display="none"}));const a={menuBtn:document.querySelector("[data-menu-open]"),menuContainer:document.querySelector("[data-menu]"),menuBackdrop:document.querySelector("[data-backdrop]")};function d(){a.menuBackdrop.classList.toggle("visually-hidden"),a.menuContainer.classList.toggle("is-open")}a.menuBtn.addEventListener("click",d),a.menuBackdrop.addEventListener("click",(function(e){e.target===a.menuBackdrop&&d()}));
//# sourceMappingURL=catalog.5d15106a.js.map
